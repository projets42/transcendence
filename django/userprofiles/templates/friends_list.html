{% load static %}

<link rel="stylesheet" href="{% static 'form_style.css' %}">

<style>

    p{
        text-align: center;
        font-size: 2rem;
    }

    #backButton{
        position: absolute;
        top: 2rem;
        left: 1rem;
        font-size: 2rem;
        color: white;
        background-color: transparent;
        border: none;
        padding: 0;
        cursor: pointer;
    }

    .friend_list{
        color: white;
        font-size: 1em;
        background-color: transparent;
        border: none;
        cursor: pointer;
    }

    .friend_list:hover{
        color: rgb(99, 109, 116);
    }

</style>

{% if friend %}

    <p id="back"><a href="{% url 'userprofiles:friends' %}"><< back</a></p>

    <p>
        {% if friend.profileimg.picture %}
            <img src="{{ friend.profileimg.picture.url }}" width="100" height="100" style="border-radius:50%"><br>
        {% else %}
            <img src="/media/images/default.png" width="100" height="100" style="border-radius:50%"><br>
        {% endif %}
        {{ friend.username }}<br>
        {% if friend.status.state == 0 %}
            OFFLINE
        {% elif friend.status.state == 1 %}
            ONLINE
        {% else %}
            INACTIVE
        {% endif %}
    </p>
    
    <p>
        Pong games played : {{ games }}<br>
        Victories in pong game : {{ victories }}<br>
        Defeats in pong game : {{ defeats }}<br>
        <br>
        Bomberman games played : {{ bbm_games }}<br>
        Victories in Bomberman game : {{ bbm_victories }}<br>
        Defeats in Bomberman game : {{ bbm_defeats }}<br>
        Draws in Bomberman game : {{ bbm_draws }}<br>
    </p>

{% else %}

    <p id="back"><a href="{% url 'userprofiles:profile' %}"><< back</a></p>

    <p>
        {% if user.profileimg.picture %}
            <img src="{{ user.profileimg.picture.url }}" width="100" height="100" style="border-radius:50%"><br>
        {% else %}
            <img src="/media/images/default.png" width="100" height="100" style="border-radius:50%"><br>
        {% endif %}
        {{ user.username }}
    </p>

    <p><a href="{% url 'userprofiles:friend_request' %}">Friend requests ({{ friend_request }})</a></p>

    <form method="post">
        {% csrf_token %}
        <input type="text" name="name" placeholder="Enter username to add friend" required maxlength="15">
        <input type="submit" value="add friend" name="send">
    </form>

    {% for message in messages %}
        <p>{{ message }}</p>
    {% endfor %}

    <br>

    <h2>
        Friends
    </h2>

    {% if not friends %}

        <p>
            No friends yet
        </p>

    {% endif %}

    {% for friend in friends %}

        <p>
            <form method="post">
                {% csrf_token %}
                <input type="hidden" name="friend_id" value="{{ friend.id }}">
                <input class="friend_list" type="submit" value="{{ friend.username }}" name="send">
            </form>
        </p>

    {% endfor %}

{% endif %}