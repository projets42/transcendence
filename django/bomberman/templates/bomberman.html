{% load static %}
<style>

    body{
        margin: 0;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background: linear-gradient(0deg, rgb(29, 29, 29) 0%, rgb(168, 168, 168) 60%);
    }

    #game{
        box-shadow: 10px 10px 15px black;
    }

    form{
        display: flex;
        flex-direction: column;
        background-color: black;
        padding: 50px;
        font-size: 1.8em;
        border: 5px dashed white;
    }

    #fields{
        display: flex;
    }

    #username_list{
        display: flex;
        flex-direction: column;
        height: 25vh;
        overflow: auto;
    }

</style>

{% if game == "off" %}

    {% if form %}

        <form method="post">
            {% csrf_token %}
            <div id="fields">{{ form }}</div>
            <br>
            <input type="submit" value="PLAY">
        </form>

    {% else %}

        <form method="post">
            {% csrf_token %}
            <p>
                <label for="nplayers">Number of players:</label>
                <input type="submit" value="-" name="send">
                <input name="players_number" id="nplayers" type="number" value="{{ number }}" readonly>
                <input type="submit" value="+" name="send">
            </p>
            <p id="username_list">
                <input type="text" name="names" value="{{ user.username }}" readonly maxlength="15">
                {% for player in players %}
                    <input type="text" name="names" value="{{ player }}" required maxlength="15">
                {% endfor %}
            </p>
            <input type="submit" value="PLAY" name="send">
        </form>

    {% endif %}

{% else %}

    <div id="game_container">
        <canvas id="game"></canvas>
    </div>

    {{ color1 | json_script:"color1" }}
    {{ color2 | json_script:"color2" }}

    <script src="{% static 'game.js' %}" type="module"></script>

{% endif %}